<div class="container profile-page mt-5">
  <H4 class="maintitle notionsetting"><img src="app/app-modules/assets/notion.png" height="23px"/>&nbsp; Notion Dashboard 設定</H4>
  <form [formGroup]="notionForm">
    <div class="row">
      <div class="col col-label"><div class="form-label">Notion トークン</div></div>
      <div class="col col-field">
        <input class="form-control" formControlName="secret" required>
      </div>
    </div>
    <div class="row">
      <div class="col col-label"><div class="form-label">Page ID</div></div>
      <div class="col col-field">
        <div class="input-group">
          <input class="form-control" formControlName="pageid" required>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-1 status"><i [class]="statusIcon"></i></div>
      <div class="col-7">
        <input class="form-control" formControlName="title" readonly *ngIf="!hasStatusError">
        <div class="status_error" *ngIf="hasStatusError">{{status}}</div>
      </div>
      <div class="col-4 pl-0">
        <button class="btn btn-default btn-outline-secondary btn-sm mr-3 form-control" (click)="connectCheck()">
           <i class="fas fa-check"></i> Connection Check</button>
      </div>
    </div>
    <div class="footer">
      <div class="mt-3">
        <button [disabled]=" !notionForm.valid" class="btn btn-save btn-sm mr-3" (click)="save()"></button>
        <button class="btn btn-cancel btn-sm mr-3 " (click)="cancel()"></button>
      </div>
    </div>
  </form>
  <ngx-spinner [fullScreen]="false" bdColor = "rgba(0, 0, 0, 0.5)" size = "medium" color = "#fff"
               type = "ball-atom" ><div style="color: white; margin-top: 80px" > {{spinnerMessage}} </div></ngx-spinner>
</div>
